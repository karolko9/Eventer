import"../chunks/disclose-version.Bg9kRutz.js";import{j as b,f as l,n as E,i as j,s as c,m as k,e as f,r as p,g as a}from"../chunks/runtime.aXHnhyvJ.js";import{a as d,t as A,c as I}from"../chunks/template.eTO5rkRx.js";import{i as B}from"../chunks/if.SkAuWYcG.js";import{e as C,i as L}from"../chunks/attributes.CbBv2cPg.js";import{i as M}from"../chunks/lifecycle.DNLBlrF2.js";import{s as N,a as R}from"../chunks/store.CkvMirxZ.js";import{a as q}from"../chunks/index-client.CQj2buiT.js";import{g as z}from"../chunks/entry.CNr9gMCq.js";import{a as D}from"../chunks/auth.BEvWUvkO.js";import{E as F}from"../chunks/EventCard.CF2KbLaL.js";import{I as G}from"../chunks/info-circle.URboY6l3.js";var H=A('<header class="p-4 flex items-center justify-between"><h1 class="text-2xl font-semibold text-primary">Events</h1> <!></header> <section class="w-full h-mobile lg:h-desktop m-auto p-4 overflow-y-auto flex flex-col lg:flex-row lg:flex-wrap gap-4"><!></section>',1);function Z(h,g){b(g,!1);const u=N(),s=()=>R(D,"$auth",u);let o=k([]);q(()=>{s().init().then(()=>{v()})});async function v(){try{if(s().isReady&&s().isAuthenticated){const t=await s().whoamiActor.get_all_events_with_details();j(o,t.map(e=>e))}}catch(t){console.error("Error fetching events:",t)}}const _=t=>{const{slug:e}=t.detail;z(`/events/${e}`)};M();var n=H(),i=l(n),x=c(f(i),2);G(x,{style:"color: #5B2784; width:30px; height:30px;"}),p(i);var m=c(i,2),w=f(m);B(w,()=>a(o).length>0,t=>{var e=I(),y=l(e);C(y,1,()=>a(o),L,($,r)=>{F($,{get id(){return a(r).id},get name(){return a(r).name},get date(){return a(r).time_start},get address(){return a(r).address},$$events:{navigate:_}})}),d(t,e)}),p(m),d(h,n),E()}export{Z as component};
