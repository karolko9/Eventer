{"version":3,"file":"MapEvents-B-Wb19xI.js","sources":["../../../.svelte-kit/adapter-node/chunks/MapEvents.js"],"sourcesContent":["import { v as fallback, t as store_get, u as unsubscribe_stores, x as bind_props, f as pop, p as push } from \"./index2.js\";\nimport { o as onDestroy, c as createEventDispatcher } from \"./index-server.js\";\nimport { m as mapContext } from \"./MapLibre.js\";\nimport \"maplibre-gl\";\nfunction MapEvents($$payload, $$props) {\n  push();\n  var $$store_subs;\n  const dispatch = createEventDispatcher();\n  let layer = fallback($$props[\"layer\"], () => void 0, true);\n  const { map } = mapContext();\n  function sendEvent(e) {\n    dispatch(\n      // @ts-expect-error\n      e.type,\n      { ...e, map }\n    );\n  }\n  const layerEvents = [\n    \"click\",\n    \"dblclick\",\n    \"mousedown\",\n    \"mouseup\",\n    \"mousemove\",\n    \"mouseenter\",\n    \"mouseleave\",\n    \"contextmenu\",\n    \"mouseover\",\n    \"mouseout\"\n  ];\n  const mapEvents = [\n    \"click\",\n    \"dblclick\",\n    \"contextmenu\",\n    \"mousemove\",\n    \"movestart\",\n    \"moveend\",\n    \"zoomstart\",\n    \"zoom\",\n    \"zoomend\"\n  ];\n  onDestroy(() => {\n    if (store_get($$store_subs ??= {}, \"$map\", map)) {\n      if (layer) {\n        for (const eventName of layerEvents) {\n          store_get($$store_subs ??= {}, \"$map\", map).off(eventName, layer, sendEvent);\n        }\n      } else {\n        for (const eventName of mapEvents) {\n          store_get($$store_subs ??= {}, \"$map\", map).off(eventName, sendEvent);\n        }\n      }\n    }\n  });\n  if (store_get($$store_subs ??= {}, \"$map\", map)) {\n    if (layer) {\n      for (const eventName of layerEvents) {\n        store_get($$store_subs ??= {}, \"$map\", map).on(eventName, layer, sendEvent);\n      }\n    } else {\n      for (const eventName of mapEvents) {\n        store_get($$store_subs ??= {}, \"$map\", map).on(eventName, sendEvent);\n      }\n    }\n  }\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  bind_props($$props, { layer });\n  pop();\n}\nexport {\n  MapEvents as M\n};\n"],"names":[],"mappings":";;;;;AAIA,SAAS,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE;AACvC,EAAE,IAAI,EAAE,CAAC;AACT,EAAE,IAAI,YAAY,CAAC;AACnB,EAAE,MAAM,QAAQ,GAAG,qBAAqB,EAAE,CAAC;AAC3C,EAAE,IAAI,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,MAAM,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;AAC7D,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,UAAU,EAAE,CAAC;AAC/B,EAAE,SAAS,SAAS,CAAC,CAAC,EAAE;AACxB,IAAI,QAAQ;AACZ;AACA,MAAM,CAAC,CAAC,IAAI;AACZ,MAAM,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE;AACnB,KAAK,CAAC;AACN,GAAG;AACH,EAAE,MAAM,WAAW,GAAG;AACtB,IAAI,OAAO;AACX,IAAI,UAAU;AACd,IAAI,WAAW;AACf,IAAI,SAAS;AACb,IAAI,WAAW;AACf,IAAI,YAAY;AAChB,IAAI,YAAY;AAChB,IAAI,aAAa;AACjB,IAAI,WAAW;AACf,IAAI,UAAU;AACd,GAAG,CAAC;AACJ,EAAE,MAAM,SAAS,GAAG;AACpB,IAAI,OAAO;AACX,IAAI,UAAU;AACd,IAAI,aAAa;AACjB,IAAI,WAAW;AACf,IAAI,WAAW;AACf,IAAI,SAAS;AACb,IAAI,WAAW;AACf,IAAI,MAAM;AACV,IAAI,SAAS;AACb,GAAG,CAAC;AACJ,EAAE,SAAS,CAAC,MAAM;AAClB,IAAI,IAAI,SAAS,CAAC,YAAY,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,EAAE;AACrD,MAAM,IAAI,KAAK,EAAE;AACjB,QAAQ,KAAK,MAAM,SAAS,IAAI,WAAW,EAAE;AAC7C,UAAU,SAAS,CAAC,YAAY,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;AACvF,SAAS;AACT,OAAO,MAAM;AACb,QAAQ,KAAK,MAAM,SAAS,IAAI,SAAS,EAAE;AAC3C,UAAU,SAAS,CAAC,YAAY,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;AAChF,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,IAAI,SAAS,CAAC,YAAY,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,EAAE;AACnD,IAAI,IAAI,KAAK,EAAE;AACf,MAAM,KAAK,MAAM,SAAS,IAAI,WAAW,EAAE;AAC3C,QAAQ,SAAS,CAAC,YAAY,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;AACpF,OAAO;AACP,KAAK,MAAM;AACX,MAAM,KAAK,MAAM,SAAS,IAAI,SAAS,EAAE;AACzC,QAAQ,SAAS,CAAC,YAAY,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;AAC7E,OAAO;AACP,KAAK;AACL,GAAG;AACH,EAAE,IAAI,YAAY,EAAE,kBAAkB,CAAC,YAAY,CAAC,CAAC;AACrD,EAAE,UAAU,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC;AACjC,EAAE,GAAG,EAAE,CAAC;AACR;;;;"}